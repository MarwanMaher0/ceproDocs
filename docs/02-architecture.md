# Architecture & Structure

## üèóÔ∏è Technical Architecture

### Frontend Architecture Overview

Cepro.ai follows a modern, component-based architecture built on Vue.js 3 with TypeScript. The application uses a modular design pattern that promotes reusability, maintainability, and scalability.

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    Presentation Layer                       ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Vue Components  ‚îÇ  Layouts  ‚îÇ  Pages  ‚îÇ  Composables      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                    State Management                         ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Pinia Stores    ‚îÇ  Global State  ‚îÇ  Local State          ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                    Service Layer                            ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  API Services    ‚îÇ  Utilities     ‚îÇ  Interceptors          ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                    Infrastructure                           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Vue Router      ‚îÇ  Axios HTTP    ‚îÇ  i18n                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Core Technologies

| Technology | Version | Purpose |
|------------|---------|---------|
| Vue.js | 3.2.37 | Core frontend framework |
| TypeScript | 4.6.4 | Type safety and developer experience |
| Vite | 3.1.0 | Build tool and development server |
| Pinia | 2.0.22 | State management |
| Vue Router | 4.1.5 | Client-side routing |
| TailwindCSS | 3.4.1 | Utility-first CSS framework |
| Axios | 1.9.0 | HTTP client for API communication |

## üìÅ Project Structure

### Root Directory Structure

```
cepro/
‚îú‚îÄ‚îÄ public/                    # Static assets
‚îÇ   ‚îú‚îÄ‚îÄ assets/               # Images, fonts, icons
‚îÇ   ‚îî‚îÄ‚îÄ demo-prepare.html     # Demo configuration
‚îú‚îÄ‚îÄ src/                      # Source code
‚îÇ   ‚îú‚îÄ‚îÄ assets/              # Application assets
‚îÇ   ‚îú‚îÄ‚îÄ components/          # Reusable components
‚îÇ   ‚îú‚îÄ‚îÄ composables/         # Vue composition functions
‚îÇ   ‚îú‚îÄ‚îÄ features/            # Feature-specific modules
‚îÇ   ‚îú‚îÄ‚îÄ layouts/             # Application layouts
‚îÇ   ‚îú‚îÄ‚îÄ locales/             # Internationalization files
‚îÇ   ‚îú‚îÄ‚îÄ router/              # Vue Router configuration
‚îÇ   ‚îú‚îÄ‚îÄ services/            # API services and utilities
‚îÇ   ‚îú‚îÄ‚îÄ stores/              # Pinia state stores
‚îÇ   ‚îú‚îÄ‚îÄ utils/               # Utility functions
‚îÇ   ‚îî‚îÄ‚îÄ views/               # Page components
‚îú‚îÄ‚îÄ server-configs/          # Server configuration files
‚îú‚îÄ‚îÄ documentation/           # Project documentation
‚îú‚îÄ‚îÄ package.json            # Dependencies and scripts
‚îú‚îÄ‚îÄ vite.config.ts          # Vite configuration
‚îú‚îÄ‚îÄ tailwind.config.cjs     # TailwindCSS configuration
‚îú‚îÄ‚îÄ tsconfig.json           # TypeScript configuration
‚îî‚îÄ‚îÄ theme.config.ts         # Application theme configuration
```

### Source Code Organization (`src/`)

#### Components Directory (`/src/components/`)
```
components/
‚îú‚îÄ‚îÄ layout/                  # Layout components
‚îÇ   ‚îú‚îÄ‚îÄ Header.vue          # Main navigation header
‚îÇ   ‚îú‚îÄ‚îÄ Sidebar.vue         # Navigation sidebar
‚îÇ   ‚îî‚îÄ‚îÄ Footer.vue          # Application footer
‚îú‚îÄ‚îÄ icon/                   # Icon components
‚îÇ   ‚îú‚îÄ‚îÄ menu/               # Menu-specific icons
‚îÇ   ‚îî‚îÄ‚îÄ *.vue               # Individual icon components
‚îú‚îÄ‚îÄ AccountsTable.vue       # User accounts table
‚îú‚îÄ‚îÄ Table.vue               # Generic reusable table
‚îú‚îÄ‚îÄ ThemeCustomizer.vue     # Theme configuration panel
‚îú‚îÄ‚îÄ SkeletonLoader.vue      # Loading state components
‚îî‚îÄ‚îÄ *.vue                   # Other reusable components
```

#### Views Directory (`/src/views/`)
```
views/
‚îú‚îÄ‚îÄ index.vue               # Dashboard/home page
‚îú‚îÄ‚îÄ accounts/               # User management
‚îÇ   ‚îú‚îÄ‚îÄ index.vue          # Accounts listing
‚îÇ   ‚îú‚îÄ‚îÄ AddNewAdmin/       # Add administrator
‚îÇ   ‚îî‚îÄ‚îÄ EditAdmin/         # Edit administrator
‚îú‚îÄ‚îÄ applications/           # Application incidents
‚îÇ   ‚îú‚îÄ‚îÄ index.vue          # Applications dashboard
‚îÇ   ‚îú‚îÄ‚îÄ AddNewIncident/    # Create incident
‚îÇ   ‚îú‚îÄ‚îÄ IncidentDetails/   # Incident details
‚îÇ   ‚îî‚îÄ‚îÄ TakedownDetails/   # Takedown details
‚îú‚îÄ‚îÄ Clients/                # Client management
‚îÇ   ‚îú‚îÄ‚îÄ index.vue          # Clients listing
‚îÇ   ‚îú‚îÄ‚îÄ add/               # Add new client
‚îÇ   ‚îú‚îÄ‚îÄ edit/              # Edit client
‚îÇ   ‚îî‚îÄ‚îÄ details/           # Client details
‚îú‚îÄ‚îÄ Distributor/            # Distributor management
‚îÇ   ‚îú‚îÄ‚îÄ index.vue          # Distributors listing
‚îÇ   ‚îú‚îÄ‚îÄ add/               # Add distributor
‚îÇ   ‚îú‚îÄ‚îÄ edit/              # Edit distributor
‚îÇ   ‚îî‚îÄ‚îÄ details/           # Distributor details
‚îú‚îÄ‚îÄ socialMedia/            # Social media incidents
‚îú‚îÄ‚îÄ website/                # Website incidents
‚îú‚îÄ‚îÄ profile/                # User profiles
‚îÇ   ‚îú‚îÄ‚îÄ admin.vue          # Admin profile
‚îÇ   ‚îî‚îÄ‚îÄ distributor.vue    # Distributor profile
‚îú‚îÄ‚îÄ auth/                   # Authentication pages
‚îú‚îÄ‚îÄ pages/                  # Static/utility pages
‚îî‚îÄ‚îÄ services/               # View-specific services
```

#### State Management (`/src/stores/`)
```
stores/
‚îú‚îÄ‚îÄ index.ts                # Main application store
‚îú‚îÄ‚îÄ useMyDataStore.ts       # User data store
‚îú‚îÄ‚îÄ usePermissionsStore.ts  # User permissions store
‚îú‚îÄ‚îÄ useThemeStore.ts        # Theme configuration store
‚îî‚îÄ‚îÄ businessFields.ts       # Business fields data
```

#### Services & API (`/src/services/`)
```
services/
‚îú‚îÄ‚îÄ axiosInstance.ts        # Axios configuration and interceptors
‚îî‚îÄ‚îÄ validationRules.ts      # Form validation rules
```

#### Utilities (`/src/utils/`)
```
utils/
‚îú‚îÄ‚îÄ myData.ts              # User data utilities
‚îú‚îÄ‚îÄ permissions.ts         # Permission checking utilities
‚îî‚îÄ‚îÄ theme.ts               # Theme utilities
```

## üîß Configuration Files

### Vite Configuration (`vite.config.ts`)
```typescript
export default defineConfig({
  plugins: [
    vue(),                    // Vue.js support
    vueDevTools(),           // Vue DevTools integration
    AutoImport({             // Automatic imports
      imports: ['vue'],
      dts: 'src/auto-imports.d.ts',
    }),
  ],
  resolve: {
    alias: {
      '@': resolve(__dirname, './src'),
      '@axios': resolve(__dirname, './src/services/axiosInstance.ts'),
    },
  },
  // Build and optimization settings
});
```

### TypeScript Configuration
- **tsconfig.json**: Main TypeScript configuration
- **tsconfig.node.json**: Node.js specific configuration
- **auto-imports.d.ts**: Generated type definitions for auto-imports

### TailwindCSS Configuration (`tailwind.config.cjs`)
- Custom color schemes and design tokens
- Component-specific utility classes
- Responsive breakpoints
- Dark mode configuration

## üé® Layout System

### Layout Components

#### 1. App Layout (`/src/layouts/app-layout.vue`)
- Main application layout for authenticated users
- Includes header, sidebar, and content area
- Handles theme switching and responsive behavior
- Manages loading states and transitions

#### 2. Auth Layout (`/src/layouts/auth-layout.vue`)
- Layout for authentication pages (login, register)
- Minimal design focused on authentication forms
- Separate styling and branding

### Layout Switching Logic
```typescript
// App.vue - Dynamic layout switching
const mainLayout = computed(() => {
  return store.mainLayout === 'auth' ? authLayout : appLayout;
});
```

## üõ£Ô∏è Routing Architecture

### Route Organization
```typescript
// /src/router/index.ts
const routes: RouteRecordRaw[] = [
  // Dashboard
  { path: '/', name: 'home', component: HomeView },
  
  // Feature-based routing
  { path: '/website/*', component: WebsiteModule },
  { path: '/socialMedia/*', component: SocialMediaModule },
  { path: '/applications/*', component: ApplicationsModule },
  
  // Admin routes
  { path: '/accounts/*', component: AccountsModule },
  { path: '/clients/*', component: ClientsModule },
  { path: '/distributor/*', component: DistributorModule },
];
```

### Route Meta Information
- **name**: Route identifier for navigation
- **layout**: Specify which layout to use
- **type**: Module type for context-aware features
- **permissions**: Required permissions for access

## üîÑ Data Flow Architecture

### State Management Flow
```
Component ‚Üí Action ‚Üí Store ‚Üí API Service ‚Üí Backend
    ‚Üë                                          ‚Üì
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Reactive Update ‚Üê‚îÄ‚îÄ Response ‚Üê‚îÄ‚îÄ‚îÄ‚îò
```

### Component Communication
1. **Parent-Child**: Props and emits
2. **Sibling Components**: Shared Pinia stores
3. **Global State**: Central Pinia stores
4. **Event Bus**: For decoupled communication

## üèóÔ∏è Module Architecture

### Feature-Based Modules
Each major feature (Website, Social Media, Applications) follows a consistent structure:

```
feature-module/
‚îú‚îÄ‚îÄ index.vue              # Module dashboard
‚îú‚îÄ‚îÄ AddNewIncident/        # Create functionality
‚îú‚îÄ‚îÄ IncidentDetails/       # View functionality
‚îú‚îÄ‚îÄ EditIncident/          # Edit functionality
‚îú‚îÄ‚îÄ TakedownDetails/       # Takedown management
‚îî‚îÄ‚îÄ services/              # Module-specific API services
```

### Shared Components
- **Table.vue**: Generic data table with sorting, pagination, and actions
- **SkeletonLoader.vue**: Loading states for different content types
- **ReusableModal.vue**: Generic modal component
- **ThemeCustomizer.vue**: Theme configuration interface

## üîå Plugin Architecture

### Vue Plugins Integration
```typescript
// main.ts - Plugin registration
app.use(createPinia());           // State management
app.use(router);                  // Routing
app.use(i18n);                    // Internationalization
app.use(PerfectScrollbar);        // Scrollbar enhancement
app.use(TippyPlugin);             // Tooltips
app.use(VueToast);                // Notifications
```

### Auto-Import System
Automatically imports frequently used Vue APIs:
- `ref`, `reactive`, `computed`
- `onMounted`, `onUnmounted`
- `watch`, `watchEffect`
- Custom composables

## üì± Responsive Design Architecture

### Breakpoint Strategy
```css
/* TailwindCSS breakpoints */
sm: 640px    /* Small devices */
md: 768px    /* Medium devices */
lg: 1024px   /* Large devices */
xl: 1280px   /* Extra large devices */
2xl: 1536px  /* 2X large devices */
```

### Mobile-First Approach
- Default styles for mobile devices
- Progressive enhancement for larger screens
- Touch-friendly interfaces
- Optimized navigation for mobile

## üîí Security Architecture

### Authentication Flow
```
Login ‚Üí JWT Token ‚Üí Local Storage ‚Üí Axios Interceptor ‚Üí API Request
   ‚Üì
Token Refresh Logic ‚Üí Automatic Renewal ‚Üí Seamless UX
```

### Authorization Layers
1. **Route Guards**: Protect routes based on authentication
2. **Component Guards**: Hide/show components based on permissions
3. **API Guards**: Server-side validation and authorization
4. **Store Guards**: Prevent unauthorized state modifications

---

*This architecture documentation provides the foundation for understanding how Cepro.ai is structured and organized. For specific implementation details, refer to the component and API documentation sections.*
